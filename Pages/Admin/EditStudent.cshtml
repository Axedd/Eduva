@page 
@model SchoolSystem.Pages.Admin.EditStudentModel
@{
}
@section Styles {
    <link rel="stylesheet" href="~/css/admin.css" />
}

@if (TempData["SuccessMessage"] != null)
{
    <div class="alert alert-success">
        @TempData["SuccessMessage"]
    </div>
}


<div class="form-container">
    <h1>Edit Student Details</h1>

    <form method="post" class="edit-form">
        <input type="hidden" name="Student.Gender" value="@Model.Student.Gender" />

        <div class="profile-section">
            <img src="@Model.Student.ProfilePicturePath" class="profile-img" alt="Student Profile Picture" />
        </div>

        <div class="form-fields">
            <div class="form-group row">
                <label for="StudentId" class="col-form-label">Student ID</label>
                <input type="text" name="Student.StudentId" class="form-control" id="inputStudentId" value="@Model.Student.StudentId" readonly />
            </div>

            <div class="form-group row">
                <label for="FirstName" class="col-form-label">First Name</label>
                <input type="text" name="Student.FirstName" class="form-control" id="inputFirstName" value="@Model.Student.FirstName" />
                <span asp-validation-for="Student.FirstName" class="text-danger"></span>
            </div>

            <div class="form-group row">
                <label for="LastName" class="col-form-label">Last Name</label>
                <input type="text" name="Student.LastName" class="form-control" id="inputLastName" value="@Model.Student.LastName" />
                <span asp-validation-for="Student.LastName" class="text-danger"></span>
            </div>

            <div class="form-group row">
                <label for="DateOfBirth" class="col-form-label">Last Name</label>
                <input type="date"
                       name="Student.DateOfBirth"
                       class="form-control"
                       id="inputDateOfBirth"
                       value="@Model.Student.DateOfBirth?.ToString("yyyy-MM-dd")" />
                <span asp-validation-for="Student.DateOfBirth" class="text-danger"></span>
            </div>

        <div class="form-group row">
            <label for="StudentClass" class="col-sm-2 col-form-label">Class</label>
            <div class="col-sm-10">
                <select name="Student.StudentClassId" class="form-select">
                    @foreach (var Class in Model.StudentClasses)
                    {
                        if (Class.StudentClassId != Model.Student.StudentClassId)
                        {
                            <option value="@Class.StudentClassId">@Class.ClassName</option>
                        }
                        else
                        {

                        }
                    }
                    <option value="@Model.Student.StudentClassId" selected>@Model.Student.StudentClass.ClassName</option>
                </select>
            </div>
        </div>

            <button class="btn btn-primary">Save</button>
    </form>
</div>