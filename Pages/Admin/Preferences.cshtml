@page
@model SchoolSystem.Pages.Admin.PreferencesModel
@{
}

@section Styles {
    <style>
        form {
            display: inline-flex; /* Ensure form elements are inline */
            flex-wrap: nowrap; /* Prevent wrapping of elements */
            align-items: center; /* Vertically center the items */
        }
    </style>
}





<h4>Schedule Preferences</h4>

@if (Model.ScheduleModulePreferences.Count > 0)
{
    <div class="container">
        <ul class="list-group">
            @foreach (var ModulePreference in Model.ScheduleModulePreferences)
            {
                <li class="list-group-item d-flex justify-content-between align-items-center">
                    @if (ModulePreference.Id == Model.ScheduleModuleEditId)
                    {
                        <form method="post" asp-page-handler="SaveScheduleModulePreference">
                            <input type="hidden" name="ScheduleModulePreference.Id" value="@ModulePreference.Id" />

                            <div class="flex-grow-1 me-3">
                                <!-- Use flex-grow to take available space -->
                                <strong>Module Number:</strong> <input type="number" name="ScheduleModulePreference.ModuleNumber" value="@ModulePreference.ModuleNumber" /> &nbsp; | &nbsp;
                                <strong>Start Time:</strong> <input type="time" name="ScheduleModulePreference.StartTime" value="@ModulePreference.StartTime" /> &nbsp; | &nbsp
                                <strong>End Time:</strong> <input type="time" name="ScheduleModulePreference.EndTime" value="@ModulePreference.EndTime" />
                            </div>
                            <button type="submit" class="btn btn-primary btn-sm me-2">Save</button>
                        </form>
                        <div>
                            <form method="get" asp-page-handler="">
                                <button type="submit" class="btn btn-secondary btn-sm me-2">Cancel</button>
                            </form>
                            <form method="post" asp-page-handler="DeleteScheduleModulePreference">
                                <input type="hidden" name="id" value="@ModulePreference.Id" />
                                <button type="submit" class="btn btn-danger btn-sm">Delete</button>
                            </form>
                        </div>
                    } else
                    {
                        <div class="flex-grow-1 me-3">
                            <!-- Use flex-grow to take available space -->
                            <strong>Module Number:</strong> @ModulePreference.ModuleNumber &nbsp; | &nbsp; <!-- Added separator -->
                            <strong>Start Time:</strong> @ModulePreference.StartTime &nbsp; | &nbsp; <!-- Added separator -->
                            <strong>End Time:</strong> @ModulePreference.EndTime
                        </div>
                        <div>
                            <form method="post" asp-page-handler="EditScheduleModulePreference">
                                <input type="hidden" name="id" value="@ModulePreference.Id" />
                                <button type="submit" class="btn btn-primary btn-sm me-2">Edit</button>
                            </form>
                            <form method="post" asp-page-handler="DeleteScheduleModulePreference">
                                <input type="hidden" name="id" value="@ModulePreference.Id" />
                                <button type="submit" class="btn btn-danger btn-sm">Delete</button>
                            </form>
                        </div>
                    }
                    
                </li>
            }
        </ul>
    </div>

    <form class="form-inline" method="post">
        <div class="form-group mx-sm-2 mb-2">
            <label class="sr-only" for="inlineFormInput">Module Number</label>
            <input type="text" name="ScheduleModulePreference.ModuleNumber" class="form-control" id="inlineFormInput" placeholder="0">
        </div>

        <div class="form-group mx-sm-2 mb-2">
            <label class="sr-only" for="inlineFormInputGroup">Start Time</label>
            <input type="time" name="ScheduleModulePreference.StartTime" class="form-control" id="inlineFormInputGroup" placeholder="00:00">
        </div>

        <div class="form-group mx-sm-2 mb-2">
            <label class="sr-only" for="inlineFormInputGroup">End Time</label>
            <input type="time" name="ScheduleModulePreference.EndTime" class="form-control" id="inlineFormInputGroup" placeholder="00:00">
        </div>

        <div class="form-check mx-sm-2 mb-2">
            <input class="form-check-input" name="ScheduleModulePreference.IsBreakTime" type="checkbox" id="autoSizingCheck">
            <label class="form-check-label" for="autoSizingCheck">
                Break Time?
            </label>
        </div>

        <button type="submit" class="btn btn-primary mb-2">Add</button>
    </form>
} else
{
	<p>No preferences made</p>
    <form class="form-inline" method="post">
        <div class="form-group mx-sm-2 mb-2">
            <label class="sr-only" for="inlineFormInput">Module Number</label>
            <input type="text" name="ScheduleModulePreference.ModuleNumber" class="form-control" id="inlineFormInput" placeholder="0">
        </div>

        <div class="form-group mx-sm-2 mb-2">
            <label class="sr-only" for="inlineFormInputGroup">Start Time</label>
            <input type="time" name="ScheduleModulePreference.StartTime" class="form-control" id="inlineFormInputGroup" placeholder="00:00">
        </div>

        <div class="form-group mx-sm-2 mb-2">
            <label class="sr-only" for="inlineFormInputGroup">End Time</label>
            <input type="time" name="ScheduleModulePreference.EndTime" class="form-control" id="inlineFormInputGroup" placeholder="00:00">
        </div>

        <div class="form-check mx-sm-2 mb-2">
            <input class="form-check-input" name="ScheduleModulePreference.IsBreakTime" type="checkbox" id="autoSizingCheck">
            <label class="form-check-label" for="autoSizingCheck">
                Break Time?
            </label>
        </div>

        <button type="submit" class="btn btn-primary mb-2">Add</button>
    </form>
}

